<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
  <!--
     You can run this change log on your database as many times as you want, it will ignore the
     changes that are already applied. It also means that you can't modify an existing revision.
     Always add to the end.

     Use the maven goals: liquibase:update and liquibase:status
      Potentially with -Dliquibase.dropFirst=true
 -->

  <changeSet author="hjelm" id="rev-1" context="demo">
    <preConditions>
      <sqlCheck expectedResult="0">SELECT COUNT(*) FROM LOV_NACEACTIVITY</sqlCheck>
    </preConditions>

    <comment>Load lookup values data</comment>
    <!-- The CSV file must have a header row with the correct column names -->
    <loadData tableName="LOV_AREAGROUP" file="database/lov_areagroup.csv"/>
    <loadData tableName="LOV_NACEACTIVITY" file="database/lov_naceactivity.csv"/>
    <loadData tableName="LOV_COUNTRY" file="database/lov_country.csv"/>
    <loadData tableName="LOV_POLLUTANT" file="database/lov_pollutant.csv"/>
    <loadData tableName="LOV_NUTSREGION" file="database/lov_nutsregion.csv"/>
    <loadData tableName="LOV_NUTSREGION" file="database/lov_nutsregion-hr.csv"/> <!-- HR was added later -->
    <loadData tableName="LOV_RIVERBASINDISTRICT" file="database/lov_riverbasindistrict.csv"/>
    <loadData tableName="RECEIVINGCOUNTRY" file="database/receivingcountry.csv"/>
    <loadData tableName="REPORTINGYEAR" file="database/reportingyear.csv"/>
  </changeSet>

  <changeSet author="roug" id="rev-2" context="demo">
    <preConditions>
      <sqlCheck expectedResult="0">SELECT COUNT(*) FROM FACILITYDETAIL_DETAIL</sqlCheck>
    </preConditions>
    <comment>Load example facility #7019</comment>
    <loadData tableName="FACILITYDETAIL_ACTIVITY" file="database/facilitydetail_activity.csv"/>
    <loadData tableName="FACILITYDETAIL_COMPETENTAUTHORITYPARTY" file="database/facilitydetail_competentauthorityparty.csv"/>
    <loadData tableName="FACILITYDETAIL_DETAIL" file="database/facilitydetail_detail.csv"/>
    <loadData tableName="FACILITYDETAIL_POLLUTANTRELEASE" file="database/facilitydetail_pollutantrelease.csv"/>
    <loadData tableName="FACILITYDETAIL_POLLUTANTTRANSFER" file="database/facilitydetail_pollutanttransfer.csv"/>
    <loadData tableName="FACILITYDETAIL_WASTETRANSFER" file="database/facilitydetail_wastetransfer.csv"/>
    <loadData tableName="FACILITYSEARCH_ALL" file="database/facilitysearch_all.csv"/> <!-- Could this be generated from the other tables? -->
  </changeSet>

</databaseChangeLog>
